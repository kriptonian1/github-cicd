name: Assign
on:
  issue_comment:
    created:
      patterns:
        - '/assign'

jobs:
  auto-assign:
  # Run this is the number of assignee is less than 2
  # If the number of assignee is more than 2, it will be skipped
    if: '{{ item.assignees | length < 2 }}'
    runs-on: ubuntu-latest
    steps:
      - name: 'Auto-assign issue'
        uses: pozil/auto-assign-issue@v1.4.0
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          assignees: ${{ github.actor }}
      - name: 'Print'
        run: echo "{{ item.assignees | length < 2 }}"